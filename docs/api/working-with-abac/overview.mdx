---
sidebar_position: 1
title: Working with the ABAC API
---

## Overview

The API now allows us to create **[ABAC](../../concepts/ABAC/overview)** calls, which give much more flexibility when defining
rules for access-control. With this added functionality of creating your own conditions, which consist of **actions**, **roles** and
**attributes** that are being performed on a specific **resource** - we can very tightly enforce attribute-based access control policies.

With the functionality of ABAC, we can now define **[Condition Set Rules](condition-set-rules)** that will be part of **[Condition Sets](condition-sets)** - but before we dive
into understanding how we would construct those conditions, we need to understand some vocabulary.

## Logical Operators

There are currently three types of logical operators you need to be aware of. These work like logic gates and represent a boolean function.

### allOf - (an alias of AND)

The **allOf** operator only returns **true** if **condition A _AND_ B are true**.

:::info example
Only employees that are **located in the US** _**AND**_ have a **role of editor** can have access to resource X.
:::

```javascript
"conditions": {
    "allOf": [
        ...
    ]
}
```

### anyOf - (an alias of OR)

The **anyOf** operator only returns **true** if **condition A _OR_ condition B** is true.

:::info example
Only students with a **maths score higher than 80%** _**OR**_ students with an **average of 60% from all subjects** can participate.
:::

```javascript
"conditions": {
    "anyOf": [
        ...
    ]
}
```

### not

The **not** operator returns the inverted result. If **condition A** is **false**, it will return true.

:::info example
If we go ahead and make a statement that says:

**"A user with the Editor role can only request changed to the document."**

will be reflected as:

**"An Editor can request changes to the document and any other available resources."**

:::

```javascript
"conditions": {
    "not": [
        ...
    ]
}
```

:::tip
It is **important to note** that when writing your conditions, you can **either** use the **alias versions** of the
logical operators **(allOf, anyOf)**, or the **normal verbose** version **(and, or)**.
:::

## Comparison Operators

Comparison operators enable us to construct much more complex conditions and introduce more concrete rules to our policies.

| Text                    | String used in condition |   Description    |
| ----------------------- | ------------------------ | :--------------: |
| **EQUALS**              | equals                   |      a = b       |
| **DOES NOT EQUAL**      | not-equals               |      a != b      |
| **LESS THAN**           | less-than                |      a < b       |
| **GREATER THAN**        | greater-than             |      a > b       |
| **LESS THAN EQUALS**    | less-than-equals         |      a ≤ b       |
| **GREATER THAN EQUALS** | greater-than-equals      |      a ≥ b       |
| **IN**                  | in                       | ["a", "b", "c"]  |
| **CONTAINS**            | contains                 |  ["a", ?, "b"]   |
| **BETWEEN**             | between                  |    a > x < b     |
| **MATCH**               | match                    | Regex Expression |

Now that we have a basic understanding of the language to consruct conditions, lets jump into creating **[Condition Sets](condition-sets)**.
