---
sidebar_position: 1
title: Quickstart with Dot.net
---

# QuickStart: Add permissions to your app

In this tutorial, we will show you how to integrate your app with Permit.io in a few simple steps.

## Setup Your PDP (policy decision point) container

We provide you with a Policy-Decision-Point - aka an authorization microservice, as a container for you to use.
To Install it, follow these steps:

#### 1. Pull our PDP container from Docker Hub ([Click here to install Docker](https://docs.docker.com/get-docker/])):

```
docker pull permitio/pdp:latest
```

#### 2. Get the Permit.io API key

Navigate to [Project management](https://app.permit.io/project-management).  
Find the active environment with the green dot on the icon.  
Click on the "Copy secret key" button of the active environment.

<img
  src="/img/oz_copy_secret_key.png"
  alt="Copy secret key from Projects management"
  data-zoomable
  style={{ maxWidth: "33em" }}
/>

Or:
Click on your user icon on the top right of the screen and click "Copy SDK secret key".

<img
  src="/img/oz_copy_secret_key_2.png"
  alt="Copy secret key from user menu"
  data-zoomable
  style={{ maxWidth: "33em" }}
/>

#### 3. Run the container (replace `<YOUR_API_KEY>` with your API key):

```
docker run \
  -p 7000:7000 \
  --env PDP_API_KEY=<YOUR_API_KEY> \
  permitio/pdp

```

:::info
Now that you have a PDP container running

Add the Permit SDK to [your app](/tutorials/connect_your_app) or use the following demo app
:::

## Integrate SDK

## Add the SDK to your .NET code

Init the .NET SDK and check for permissions.

1. Install the Permit SDK:

```bash
dotnet add package Permit
```

2. Add the SDK to your code (in the top of your file):

```csharp
using PermitSDK;
using PermitSDK.Models;
```

3. Create a new instance of the SDK:  

```csharp
// This line initializes the SDK and connects your .NET app
// to the Permit.io PDP container you've set up in the previous step.
Permit permit = new Permit(
    "[YOUR_API_KEY]",
    "http://localhost:7000"
);
```
Replace "YOUR_API_KEY" with your API key.

## Check for permissions:

```csharp
bool permitted = await permit.Check(user.key, "create", "document");
if (permitted)
{
  Console.Write("User is PERMITTED to create a document");
}
else
{
  Console.Write("User is NOT PERMITTED to create a document");
}
```

## Full app example

Assuming a .NET app with a single file, with the `Permit` modules installed:

```csharp
using System;
using System.Text;
using System.Net;
using System.Threading.Tasks;
using PermitSDK;
using PermitSDK.Models;

namespace PermitOnboardingApp
{
    class HttpServer
    {
        public static HttpListener listener;
        public static string url = "http://localhost:4000/";
        public static string pageData ="<p>User {0} is {1} to {2} {3}</p>";
        public static async Task HandleIncomingConnections()
        {
            bool runServer = true;
            while (runServer)
            {
                HttpListenerContext ctx = await listener.GetContextAsync();
                HttpListenerResponse resp = ctx.Response;

                // in a real app, you would typically decode the user id from a JWT token
                UserKey user = new UserKey("[user-id]", "John", "Doe", "johndoe@permit.io");
                // init Permit SDK
                string clientToken = "[YOUR_API_KEY]";
                Permit permit = new Permit(
                    clientToken,
                    "http://localhost:7000",
                    "default",
                    true
                );
                bool permitted = await permit.Check(user.key, "create", "document");
                if (permitted)
                {
                    await SendResponseAsync(resp, 200, String.Format(pageData, user.firstName + user.lastName, "Permitted", "create", "document"));
                }
                else
                {
                    await SendResponseAsync(resp, 403, String.Format(pageData, user.firstName + user.lastName, "NOT Permitted", "create", "document"));
                }

            }
        }
        public static async Task SendResponseAsync(HttpListenerResponse resp, int returnCode, string responseContent)
        {
            byte[] data = Encoding.UTF8.GetBytes(responseContent);
            resp.StatusCode = returnCode;
            await resp.OutputStream.WriteAsync(data, 0, data.Length);
            resp.Close();
        }

        public static void Main(string[] args)
        {
            // Create a Http server and start listening for incoming connections
            listener = new HttpListener();
            listener.Prefixes.Add(url);
            listener.Start();
            Console.WriteLine("Listening for connections on {0}", url);
            Task listenTask = HandleIncomingConnections();
            listenTask.GetAwaiter().GetResult();
            listener.Close();
        }
    }
}