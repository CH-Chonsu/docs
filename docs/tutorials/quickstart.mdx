---
sidebar_position: 1
title: Quickstart
---

import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";

# Quickstart: Add permissions to your app

In this tutorial, we will show you how to integrate your app with Permit.io in few simple steps.

## Setup Your PDP (policy decision point) container

We provide you with a Policy-Decision-Point - aka an authorization microservice, as a container for you to use.
To Install it, follow these steps:

#### 1. Pull our PDP container from Docker Hub ([Click here to install Docker](https://docs.docker.com/get-docker/])):

```
docker pull permitio/pdp:latest
```

#### 2. Get the Permit.io API key

Navigate to [Project management](https://app.permit.io/project-management).  
Find the active environment with the green dot on the icon.  
Click on the "Copy secret key" button of the active environment.

![Copy Secret Key](/img/oz_copy_secret_key.png)

Or:
Click on your user icon on the top right of the screen and click "Copy SDK secret key".

![Copy secret key from user menu](/img/oz_copy_secret_key_2.png)

#### 3. Run the container (replace `<YOUR_API_KEY>` with your API key):

```
docker run \
  -p 7000:7000 \
  --env PDP_API_KEY=<YOUR_API_KEY> \
  permitio/pdp

```

## Now that you have a PDP container running

## Add the Permit SDK to [your app](/tutorials/connect_your_app) or use the following demo app

## Select your programming language:

<Tabs>
<TabItem value="Node" label="NodeJS" default>

## Add the SDK to your JS code

Init the node.js SDK and check for permissions.

1. Install the Permit.io SDK:

```
npm install permitio
```

2. Add the SDK to your code (in the top of your JS file):

```js
const { Permit } = require("permitio");
```

3. Create a new instance of the SDK:  
   You can find instructions on [getting a secret API key here](../../tutorials/quickstart#2-get-permitio-api-key)

```js
// This line initializes the SDK and connects your Node.js app
// to the Permit.io PDP container you've set up in the previous step.
const permit = new Permit({
  // in production, you might need to change this url to fit your deployment
  pdp: "http://localhost:7000",
  // your api key
  token: "[YOUR_API_KEY]",
});
```

4. Check for permissions:

```js
const permitted = await permit.check(user.id, "create", "document");
if (permitted) {
  console.log("User is PERMITTED to create a document");
} else {
  console.log("User is NOT PERMITTED to create a document");
}
```

## Full app example

Assuming a node.js app with a single file, with the `permitio` and `express` modules installed:

```js
const { Permit } = require("permitio");

const express = require("express");
const app = express();
const port = 4000;

// This line initializes the SDK and connects your Node.js app
// to the Permit.io PDP container you've set up in the previous step.
const permit = new Permit({
  // in production, you might need to change this url to fit your deployment
  pdp: "http://localhost:7000",
  // your secret api key
  token: "[YOUR_API_KEY]",
});

// You can open http://localhost:4000 to invoke this http
// endpoint, and see the outcome of the permission check.
app.get("/", async (req, res) => {
  // Example user object
  // You would usually get the user from your authenticantion layer (e.g. Auth0, Cognito, etc) via a JWT token or a database.
  const user = {
    id: "[A_USER_ID]",
    firstName: "John",
    lastName: "Doe",
    email: "johndoe@permit.io",
  };

  // check for permissions to a resource and action (in this example, create a document)
  const permitted = await permit.check(user.id, "create", "document");
  if (permitted) {
    res
      .status(200)
      .send(
        `${user.firstName} ${user.lastName} is PERMITTED to create document!`
      );
  } else {
    res
      .status(403)
      .send(
        `${user.firstName} ${user.lastName} is NOT PERMITTED to create document!`
      );
  }
});

app.listen(port, () => {
  console.log(`Example app listening at http://localhost:${port}`);
});
```

  </TabItem>
  <TabItem value="Python" label="Python">

## Add the SDK to your Python code

Init the Python SDK and check for permissions.

1. Install the Permit.io SDK:

```
pip install permit
```

2. Add the SDK to your code (in the top of your py file):

```python
from permit import Permit
```

3. Create a new instance of the SDK:
   You can find instructions on [getting a secret API key here](../../tutorials/quickstart#2-get-permitio-api-key)

```python
# This line initializes the SDK and connects your python app
# to the Permit.io PDP container you've set up.
permit = Permit(
    # in production, you might need to change this url to fit your deployment
    pdp="http://localhost:7000",
    # your secret api key
    token="<your-api-key>",
)
```

4. Check for permissions:

```python
permitted = await permit.check(user["id"], "create", "document")

if permitted:
    print("User is permitted to create a document")
else:
    print("is NOT PERMITTED to create document!")
```

## Full app example

The following is a Python app with a single file, with the `permit` and `FastAPI` modules installed.

Create a new directory for your new python project:

```
mkdir hello-permissions && cd hello-permissions
```

Optionally, create a new virtual environment for your project (you might need to install pyenv and pyenv-virtualenv):

```
pyenv virtualenv permissions && pyenv activate permissions
```

Now install the Permit.io SDK (We'll also install the FastAPI and Uvicorn packages in order to run an HTTP server in our example):

```
pip install permit fastapi "uvicorn[standard]"
```

Create a file called test.py:

```
touch test.py
```

Copy the following code inside test.py and replace with your `api key` and `user-object`:  
You can find instructions on getting an API key [here](../../tutorials/quickstart#2-get-permitio-api-key)

```python
import asyncio

from permit import Permit
from fastapi import FastAPI, status, HTTPException
from fastapi.responses import JSONResponse

app = FastAPI()

# This line initializes the SDK and connects your python app
# to the Permit.io PDP container you've set up in the previous step.
permit = Permit(
    # in production, you might need to change this url to fit your deployment
    pdp="http://localhost:7000",
    # your api key
    token="[YOUR_API_KEY]",
)

# Example user object
# You would usually get the user from your authenticantion layer (e.g. Auth0, Cognito, etc) via a JWT token or a database.
user = {
    "id": "[user-id]",
    "firstName": "John",
    "lastName": "Doe",
    "email": "johndoe@permit.io",
}

@app.get("/")
async def check_permissions():
    permitted = await permit.check(user["id"], "create", "document")
    if not permitted:
        raise HTTPException(status_code=status.HTTP_403_FORBIDDEN, detail={
            "result": f"{user.get('firstName')} {user.get('lastName')} is NOT PERMITTED to create document!"
        })

    return JSONResponse(status_code=status.HTTP_200_OK, content={
        "result": f"{user.get('firstName')} {user.get('lastName')} is PERMITTED to create document!"
    })

```

Now that your application is ready, let's run it:

```
uvicorn test:app --reload --port=4000
```

Finally, go to [http://localhost:4000](http://localhost:4000) to see the outcome of the permission check.
  </TabItem>
  <TabItem value="Java" label="Java">

## Add the SDK to your Java application

Init the Java SDK and check for permissions.

1. Install the Permit.io SDK:

<Tabs>
<TabItem value="maven" label="with Maven" default>

For [Maven](https://maven.apache.org/) projects, use:

```xml
<dependency>
  <groupId>io.permit</groupId>
  <artifactId>permit-sdk-java</artifactId>
  <version>0.0.11</version>
</dependency>
```

  </TabItem>
  <TabItem value="gradle" label="with Gradle">

For [Gradle](https://gradle.org/) projects, configure `permit-sdk-java` as a dependency in your `build.gradle`:

```groovy
dependencies {
  // ...

  implementation 'io.permit:permit-sdk-java:0.0.11'
}
```

  </TabItem>
</Tabs>

2. Create a new instance of the Permit SDK in your code:
   You can find instructions on [getting a secret API key here](../../tutorials/quickstart#2-get-permitio-api-key)

```java
import io.permit.sdk.Permit;
import io.permit.sdk.PermitConfig;

// This line initializes the SDK and connects your Java app
// to the Permit.io PDP container you've set up in the previous step.
Permit permit = new Permit(
  new PermitConfig.Builder("[YOUR_API_KEY]")
    // in production, you might need to change this url to fit your deployment
    .withPdpAddress("http://localhost:7000")
    .build()
  );
```

3. Sync the user to the permissions system

When the user first logins, and after you check if he authenticated successfully (i.e: by checking the JWT)
you need to declare the user in the permission system so you can run `permit.check()` on that user:

```java
// init your user (only needed ONCE, after the user first logins successfully)
User user = new User.Builder("[A_USER_ID]")
  .withEmail("johndoe@permit.io")
  .withFirstName("John")
  .withLastName("Doe")
  // you can assign role to the user at login
  .withRoles(new ArrayList<>(List.of(new AssignedRole[]{
      new AssignedRole("roleId", "tenantId"),
      // example assign the user (at login) to the default tenant with an admin role
      new AssignedRole("admin", "default"),
  })))
  .build();

// You need to call sync user in order to create the user in the
// permission system and be able to ask permit.check() on that user
permit.api.syncUser(user);
```

4. Check for permissions:

```java
import io.permit.sdk.enforcement.Resource;
import io.permit.sdk.enforcement.User;

boolean permitted = permit.check(
  user,
  "create",
  Resource.fromString("document")
);

if (permitted) {
  System.out.println("User is PERMITTED to create a document");
} else {
  System.out.println("User is NOT PERMITTED to create a document");
}
```

## Full app example

Assuming a Spring Boot app with a single file, with the SDK installed:

```java
package com.example.myproject;

import io.permit.sdk.Permit;
import io.permit.sdk.PermitConfig;
import io.permit.sdk.api.PermitApiException;
import io.permit.sdk.enforcement.Resource;
import io.permit.sdk.enforcement.User;
import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.http.HttpStatus;
import org.springframework.http.ResponseEntity;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RestController;

import java.io.IOException;

@RestController
@SpringBootApplication
public class DemoApplication {
  // You can open http://localhost:4000 to invoke this http
  // endpoint, and see the outcome of the permission check.
  @GetMapping("/")
  ResponseEntity<String> home() throws IOException, PermitApiException {
    // init the permit SDK
    Permit permit = new Permit(
    new PermitConfig.Builder("[YOUR_API_KEY]")
      // in production, you might need to change this url to fit your deployment
      .withPdpAddress("http://localhost:7000")
      .build()
    );

    // init your user (only needed ONCE, after the user first logins successfully)
    User user = new User.Builder("[A_USER_ID]")
      .withEmail("johndoe@permit.io")
      .withFirstName("John")
      .withLastName("Doe")
      .withRoles(new ArrayList<>(List.of(new AssignedRole[]{
          new AssignedRole("roleId", "tenantId"),
          // assign the user the admin role inside the default tenant
          new AssignedRole("admin", "default"),
      })))
      .build();

    // You need to call sync user in order to create the user in the
    // permission system and be able to ask permit.check() on that user
    permit.api.syncUser(user);

    boolean permitted = permit.check(
      user, // you may also call User.fromString("[A_USER_ID]"),
      "create",
      Resource.fromString("document")
    );

    if (permitted) {
      return ResponseEntity.status(HttpStatus.OK).body(
        "User is PERMITTED to create a document"
      );
    } else {
      return ResponseEntity.status(HttpStatus.FORBIDDEN).body(
        "User is NOT PERMITTED to create a document"
      );
    }
  }

  public static void main(String[] args) {
    SpringApplication.run(DemoApplication.class, args);
  }
}
```

</TabItem>
  <TabItem value="Dotnet" label="Dotnet">

## Add the SDK to your .NET code

Init the .NET SDK and check for permissions.

1. Install the Permit SDK:

```bash
dotnet add package Permit
```

2. Add the SDK to your code (in the top of your file):

```csharp
using PermitSDK;
using PermitSDK.Models;
```

3. Create a new instance of the SDK:  
   You can find instructions on [getting a secret API key here](/tutorials/quickstart#2-get-permitio-api-key)

```csharp
// This line initializes the SDK and connects your .NET app
// to the Permit.io PDP container you've set up in the previous step.
Permit permit = new Permit(
    "[YOUR_API_KEY]",
    "http://localhost:7000"
);

```

4. Check for permissions:

```csharp
bool permitted = await permit.Check(user.key, "create", "document");
if (permitted)
{
  Console.Write("User is PERMITTED to create a document");
}
else
{
  Console.Write("User is NOT PERMITTED to create a document");
}
```

## Full app example

Assuming a .NET app with a single file, with the `Permit` modules installed:

```csharp
using System;
using System.Text;
using System.Net;
using System.Threading.Tasks;
using PermitSDK;
using PermitSDK.Models;

namespace PermitOnboardingApp
{
    class HttpServer
    {
        public static HttpListener listener;
        public static string url = "http://localhost:4000/";
        public static string pageData ="<p>User {0} is {1} to {2} {3}</p>";
        public static async Task HandleIncomingConnections()
        {
            bool runServer = true;
            while (runServer)
            {
                HttpListenerContext ctx = await listener.GetContextAsync();
                HttpListenerResponse resp = ctx.Response;

                // in a real app, you would typically decode the user id from a JWT token
                UserKey user = new UserKey("[user-id]", "John", "Doe", "johndoe@permit.io");
                // init Permit SDK
                string clientToken = "[YOUR_API_KEY]";
                Permit permit = new Permit(
                    clientToken,
                    "http://localhost:7000",
                    "default",
                    true
                );
                bool permitted = await permit.Check(user.key, "create", "document");
                if (permitted)
                {
                    await SendResponseAsync(resp, 200, String.Format(pageData, user.firstName + user.lastName, "Permitted", "create", "document"));
                }
                else
                {
                    await SendResponseAsync(resp, 403, String.Format(pageData, user.firstName + user.lastName, "NOT Permitted", "create", "document"));
                }

            }
        }
        public static async Task SendResponseAsync(HttpListenerResponse resp, int returnCode, string responseContent)
        {
            byte[] data = Encoding.UTF8.GetBytes(responseContent);
            resp.StatusCode = returnCode;
            await resp.OutputStream.WriteAsync(data, 0, data.Length);
            resp.Close();
        }

        public static void Main(string[] args)
        {
            // Create a Http server and start listening for incoming connections
            listener = new HttpListener();
            listener.Prefixes.Add(url);
            listener.Start();
            Console.WriteLine("Listening for connections on {0}", url);
            Task listenTask = HandleIncomingConnections();
            listenTask.GetAwaiter().GetResult();
            listener.Close();
        }
    }
}
```
</TabItem>
</Tabs>

## More SDKs coming soon...



